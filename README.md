# enhanced_github_presense
Like discord presence but github and with a typo

## Setup

1. Update `appsStatus.json` to your preferred settings.
2. Add Github PAT with _user_ permissions to environment variable `GITHUB_PAT`.
3. Start the application.


## Fucking gql libraries

Spot the issue with the request generated by the library vs the one generated by the github api explorer:

`{"query":"mutation ($input:ChangeUserStatusInput!){changeUserStatus(input: $input){clientMutationId,status{message}}}","variables":{"input":{"clientMutationId":"ABC","emoji":"","expiresAt":"0001-01-01T00:00:00Z","limitedAvailability":false,"message":"test","organizationId":""}}}`

`{"query":"mutation ($input: ChangeUserStatusInput!) {\n  changeUserStatus(input: $input) {clientMutationId,status {\n      message\n    }\n  }\n}\n","variables":{"input":{"clientMutationId":"69","message":""}}}` 

See that sneaky little `organizationId`. That wasn't specified in code. It also won't resolve because obviously it won't resolve. Then you get this lovely response from the server: `"message": "Could not resolve to a node with the global id of ''"`. Really helpful. 